@echo off
echo ===============================
echo  REINITIALISATION DU DEPOT GIT
echo ===============================

:: Supprimer l'ancien .git
echo Suppression de l'ancien .git...
rmdir /s /q .git

:: Initialiser un nouveau repo Git
echo Initialisation d'un nouveau repo Git...
git init

:: Creer un .gitignore
echo Creation du fichier .gitignore...
echo node_modules/ > .gitignore
echo dist/ >> .gitignore
echo .env >> .gitignore

:: Ajouter et commit les fichiers
echo Ajout des fichiers...
git add .
git commit -m "Depot propre sans node_modules"

:: Renommer la branche principale
git branch -M main

:: Ajouter le remote GitHub
echo Ajout du remote GitHub...
git remote add origin https://github.com/medfassi20/Angular_pj.git

:: Push vers GitHub
echo Push vers GitHub...
git push -u --force origin main

echo ===============================
echo  OPERATION TERMINEE !
echo ===============================
pause